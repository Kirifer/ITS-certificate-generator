<div class="editor-preview-container">
  <!-- Left Panel - Form -->
  <div class="form-panel">
    <h2>Certificate Details</h2>
    <form [formGroup]="certificateForm" (ngSubmit)="requestApproval()">
      <div class="form-group">
        <label>Recipient Name*</label>
        <input type="text" formControlName="recipientName">
        <div *ngIf="f['recipientName'].invalid && f['recipientName'].touched" class="error">
          Name is required (max 50 characters)
        </div>
      </div>

      <div class="form-group">
        <label>Date of Issue*</label>
        <input type="date" formControlName="issueDate">
        <div *ngIf="f['issueDate'].invalid && f['issueDate'].touched" class="error">
          Date of issue is required.
        </div>
      </div>

      <div class="form-group">
        <label>Signatory 1 Name*</label>
        <input type="text" formControlName="signatory1Name">
        <div *ngIf="f['signatory1Name'].invalid && f['signatory1Name'].touched" class="error">
          Signatory name is required.
        </div>
      </div>

      <div class="form-group">
        <label>Signatory 1 Role*</label>
        <input type="text" formControlName="signatory1Role">
        <div *ngIf="f['signatory1Role'].invalid && f['signatory1Role'].touched" class="error">
          Signatory role is required.
        </div>
      </div>

      <div class="form-group">
        <label>Signatory 2 Name*</label>
        <input type="text" formControlName="signatory2Name">
        <div *ngIf="f['signatory2Name'].invalid && f['signatory2Name'].touched" class="error">
          Signatory name is required.
        </div>
      </div>

      <div class="form-group">
        <label>Signatory 2 Role*</label>
        <input type="text" formControlName="signatory2Role">
        <div *ngIf="f['signatory2Role'].invalid && f['signatory2Role'].touched" class="error">
          Signatory role is required.
        </div>
      </div>

      <div class="button-group">
        <button type="button" (click)="goBack()" class="btn secondary">
          Back
        </button>
        <button type="submit" class="btn btn-req" [disabled]="certificateForm.invalid">
          Request Approval
        </button>
      </div>
    </form>
  </div>

  <!-- Right Panel - Preview -->
  <div class="preview-panel">
    <div class="certificate" [style.backgroundImage]="'url(' + certificateBgImage + ')'" style="width: 8.5in; height: 11in;">
      <div class="certificate-content">
        <div class="cert-img">
          <img src="/its_logo.png" class="cert-logo" style="width: 120px;">
        </div>
        <h1>CERTIFICATE OF APPRECIATION</h1>
        <p style="margin-top: -155px ; margin-bottom: -50px;">This certificate of appreciation is awarded to</p>
        <h2>{{ certificateForm.value.recipientName || 'Recipient Name' }}</h2>
        <h3>EMPLOYEE OF THE YEAR {{ currentYear }}</h3>
        
        <div class="certificate-text">
          <p>Her exceptional dedication, hard work, and unwavering commitment to IT Squarehub have exceptionally contributed to the success of our organization.</p>
          <p>Congratulations on this well-deserved honor and our gratitude for your outstanding contributions.</p>
        </div>
        
        <p class="issuance" style="margin-top: -90px;">Given on this day of <span class="iss-date">{{ (certificateForm.value.issueDate | date:'longDate') || 'December 7, ' + currentYear }}</span> at <span class="iss-date">IT Squarehub Global Services Corporation, Angeles City, Pampanga.</span></p>
        
        <div class="signatures">
          <div>
            <div class="signature-line"></div>
            <p class="sig-names">{{ certificateForm.value.signatory1Name || 'Signatory 1 Name' }}</p>
            <p class="sig-roles">{{ certificateForm.value.signatory1Role || 'Chief Executive Officer' }}</p>
          </div>
          <div>
            <div class="signature-line"></div>
            <p class="sig-names">{{ certificateForm.value.signatory2Name || 'Signatory 2 Name' }}</p>
            <p class="sig-roles">{{ certificateForm.value.signatory2Role || 'Chief Finance & Operating Officer' }}</p>
          </div>
        </div>
      </div>
    </div>

    <button (click)="requestApproval()" class="btn print-btn">
      Request for Approval
    </button>
  </div>
</div>
